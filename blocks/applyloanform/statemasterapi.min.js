import{workFlowStatemaster as i}from"./statemasterbiz.min.js";import{fetchAPI as p}from"../../scripts/scripts.min.js";export function stateMasterApi(){const n=document.querySelector(".loan-form-sub-parent");let o=[];const e=document.querySelectorAll(".expert"),t=document.querySelector("#loan-banner .cmp-teaser__content .cmp-teaser__action-container .cmp-teaser__action-link"),r=document.querySelector(".cmp-container--documentrequired .cmp-container .extendedbutton"),c=document.getElementById("sticky-btn-loan-form"),s=document.querySelectorAll(".cmp-container--branches .cmp-contentfragmentlist .cmp-contentfragment .cmp-contentfragment__elements .cmp-contentfragment__element--ctaName .cmp-contentfragment__element-value"),m=document.querySelectorAll(".open-form-btn");o=[...e,t,r,c,...s,...m],o.filter(a=>a!=null).forEach(a=>{a.addEventListener("click",d=>{n.dataset.stateMaster!="true"&&(statemasterGetStatesApi().catch(l=>{console.warn(l)}),n.dataset.stateMaster=!0)})})}export function statemasterGetStatesApi(){return new Promise((n,o)=>{let e="/graphql/execute.json/piramalfinance/State%20City%20Master";window.location.href.includes("localhost")&&(e="https://www.piramalfinance.com/graphql/execute.json/piramalfinance/State%20City%20Master"),p("GET",e).then(async t=>{const r=await t.json();i(r.data.statemasterList.items)}).catch(t=>{console.warn(t)})})}
