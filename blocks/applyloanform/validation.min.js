import{dpObj as u}from"./applyloanpopper.min.js;import{branchInput as m,cutomerIncome as y,cutomerName as h,cutomerNo as b,formDobInput as D,formLoanAmt as $,formTc as V,loanFormContainer as g,loanFormOtpBtn as d,loanFromBtn as f,loanOtpInput as S,loanProduct as F,stateInput as p}from"./loanformdom.min.js;export function validationJSFunc(){const e=[b()],n=[F(),$(),h(),y(),p(),m(),V()],l=[D()],a=[p(),m()];g().addEventListener("input",({target:t})=>{if(t.tagName!="INPUT")return;if(t.dataset.valueType=="money"){let r=t.value;return r=r.replace(/^0|\D/g,""),t.value=A(r),!1}t.dataset.valueType=="name"&&(t.value=t.value.replace(/[^a-zA-Z ]+/g,"")),t.dataset.valueType=="date"&&(t.value=t.value.replace(/\D/g,""));const o=n.every(I),c=e.every(r=>k(r,t)),i=a.every(r=>L(r,t)),v=l.every(r=>N(r,t));o&&c&&i&&v?f().classList.add("loan-form-button-active"):f().classList.remove("loan-form-button-active")}),S().addEventListener("input",({currentTarget:t})=>{const o=t.value.trim();t.value=o.replace(/\D/g,""),document.querySelector("#otp-digits").textContent=`${t.value.length}/4 Digits`,t.value.length==4?d().classList.add("loan-form-button-active"):d().classList.remove("loan-form-button-active")}),document.querySelectorAll(".checkInputRegx input").forEach(t=>{t.addEventListener("input",({currentTarget:o})=>{const c=o.value;o.value=c.replace(/[^a-zA-Z ]+/g,"")})})}function I(e){return e.value==null?!1:e.type=="checkbox"||e.type=="radio"?e.checked:e.value.trim()!=""}function k(e,n){const l=e.value.trim();if(l.charAt(0)==="0")return e.value="",!1;e.value=l.replace(/^0|\D/g,"");const a=/^[6-9]\d*$/.test(e.value),s=document.querySelector(".invalid-no-msg");return e==n&&(a?s.style.display="none":s.style.display="block"),a&&l.length==10}function L(e,n){const l=e.classList.contains("place-selected");if(e==n){const a=e.closest(".cmp-form-text-parent").querySelector(".loan-form-err");l?a.style.display="none":a.style.display="block"}return l}function N(e,n){const l=e,a=l.value;let s=!1;if(a.length>2){const t=P(a.replaceAll("/",""));if(e==n&&(l.value=t),t.length==10&&(E(t,e,n)&&(s=!0),e==n)){const o=e.closest(".cmp-form-text-parent").querySelector(".loan-form-err");s?o.style.display="none":o.style.display="block"}}return s}function E(e,n,l){const a=e.split("/"),s=parseInt(a[0],10),t=parseInt(a[1],10)-1,o=parseInt(a[2],10),c=new Date(o,t,s),i=c.getFullYear()===o&&c.getMonth()===t&&c.getDate()===s;return i&&n==l&&(u.selectDate(`${o}-${Number(t)+1}-${s}`),u.setViewDate(`${o}-${Number(t)+1}-${s}`),u.show(),setTimeout(()=>{u.hide()},1e3)),i}function P(e){const n=e.toString();return n.length===3?`${n.slice(0,2)}/${n.slice(2)}`:n.length===4?`${n.slice(0,2)}/${n.slice(2)}`:n.length>=5?`${n.slice(0,2)}/${n.slice(2,4)}/${n.slice(4)}`:"Invalid number format"}function A(e){typeof e=="number"&&(e=e.toString());const n=e.split(".");let l=n[0];const a=n[1]?`.${n[1]}`:"";return l=l.replace(/\d(?=(\d{2})+\d$)/g,"$&,"),l+a}
