function l(e){const n=e?document.createElement("td"):document.createElement("th");return e||n.setAttribute("scope","col"),n}export default async function u(e){e.classList.add("code"),e.parentElement.classList.add("code-wrapper");const n=document.createElement("table"),r=document.createElement("div"),E=document.createElement("thead"),c=document.createElement("tbody"),p=!e.classList.contains("no-header");n.append(c),[...e.children].forEach((o,i)=>{const s=document.createElement("tr");c.append(s),[...o.firstElementChild?.firstElementChild?.children].forEach(t=>{const d=l(p?i:i+1);if(t.innerHTML.includes("img")&&t.textContent.trim()){t.remove();const a=document.createElement("p"),m=document.createElement("span");m.append(t.textContent.trim()),a.append(t.querySelector("img")),a.append(m),d.append(a)}else t.innerHTML.includes("img")?(t.remove(),d.append(t.querySelector("img"))):d.innerHTML=t.innerHTML;s.append(d)})}),e.innerHTML="",r.append(n),e.append(r)}

