import{ctaClickInteraction as i}from"../../dl.min.js";import{createOptimizedPicture as o}from"../../scripts/aem.min.js";import{decoratePlaceholder as l}from"../../scripts/scripts.min.js";import{moveInstrumentation as n}from"../../scripts/common.min.js";export default async function s(c){c.innerHTML=await l(c);const a=document.createElement("ul");[...c.children].forEach(e=>{const t=document.createElement("li");for(n(e,t);e.firstElementChild;)t.append(e.firstElementChild);[...t.children].forEach(r=>{r.children.length===1&&r.querySelector("picture")?r.className="cards-card-image":r.className="cards-card-body"}),a.append(t)}),a.querySelectorAll("picture > img").forEach(e=>{const t=o(e.src,e.alt,!1,[{width:"750"}]);n(e,t.querySelector("img")),e.closest("picture").replaceWith(t)}),c.textContent="",c.append(a);try{c.closest(".section.ratings-card-wrapper")&&c.closest(".section.ratings-card-wrapper").querySelectorAll("a").forEach(e=>{e.addEventListener("click",t=>{const r={};r.click_text=t.target.textContent.trim(),r.cta_position=t.target.closest(".section").querySelector(".default-content-wrapper").querySelector("h1, h2, h3, h4, h5, h6").textContent.trim(),i(r)})})}catch(e){console.warn(e)}}
