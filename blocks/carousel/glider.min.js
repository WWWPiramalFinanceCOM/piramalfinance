/* @preserve
    _____ __ _     __                _
   / ___// /(_)___/ /___  ____      (_)___
  / (_ // // // _  // -_)/ __/_    / /(_-<
  \___//_//_/ \_,_/ \__//_/  (_)__/ //___/
                              |___/

  Version: 1.7.4
  Author: Nick Piscitelli (pickykneee)
  Website: https://nickpiscitelli.com
  Documentation: http://nickpiscitelli.github.io/Glider.js
  License: MIT License
  Release Date: October 25th, 2018

*/(function(a){typeof define=="function"&&define.amd?define(a):typeof exports=="object"?module.exports=a():a()})(function(){const a=typeof window<"u"?window:this,p=a.Glider=function(e,t){const o=this;if(e._glider)return e._glider;if(o.ele=e,o.ele.classList.add("glider"),(o.ele._glider=o).opt={slidesToScroll:1,slidesToShow:1,resizeLock:!0,duration:.5,passiveListeners:!1,easing(i,s,d,r,l){return r*(s/=l)*s+d},...t},o.animate_id=o.page=o.slide=0,o.arrows={},o._opt=o.opt,o.opt.skipTrack)o.track=o.ele.children[0];else for(o.track=document.createElement("div"),o.ele.appendChild(o.track);o.ele.children.length!==1;)o.track.appendChild(o.ele.children[0]);o.track.classList.add("glider-track"),o.init(),o.resize=o.init.bind(o,!0),o.event(o.ele,"add",{scroll:o.updateControls.bind(o)},{passive:o.opt.passiveListeners}),o.event(a,"add",{resize:o.resize})},n=p.prototype;return n.init=function(e,t){let o;const i=this;let s=0,d=0;const r=(i.slides=i.track.children,[].forEach.call(i.slides,(l,h)=>{l.classList.add("glider-slide"),l.setAttribute("data-gslide",h)}),i.containerWidth=i.ele.clientWidth,i.settingsBreakpoint());t=t||r,i.opt.slidesToShow!=="auto"&&i.opt._autoSlide===void 0||(o=i.containerWidth/i.opt.itemWidth,i.opt._autoSlide=i.opt.slidesToShow=i.opt.exactWidth?o:Math.max(1,Math.floor(o))),i.opt.slidesToScroll==="auto"&&(i.opt.slidesToScroll=Math.floor(i.opt.slidesToShow)),i.itemWidth=i.opt.exactWidth?i.opt.itemWidth:i.containerWidth/i.opt.slidesToShow,[].forEach.call(i.slides,l=>{l.style.height="auto",l.style.width=`${i.itemWidth}px`,s+=i.itemWidth,d=Math.max(l.offsetHeight,d)}),i.track.style.width=`${s}px`,i.trackWidth=s,i.isDrag=!1,i.preventClick=!1,i.move=!1,i.opt.resizeLock&&i.scrollTo(i.slide*i.itemWidth,0),(r||t)&&(i.bindArrows(),i.buildDots(),i.bindDrag()),i.updateControls(),i.emit(e?"refresh":"loaded")},n.bindDrag=function(){function e(){t.mouseDown=void 0,t.ele.classList.remove("drag"),t.isDrag&&(t.preventClick=!0),t.isDrag=!1}var t=this;t.mouse=t.mouse||t.handleMouse.bind(t);function o(){t.move=!0}const i={mouseup:e,mouseleave:e,mousedown(s){s.preventDefault(),s.stopPropagation(),t.mouseDown=s.clientX,t.ele.classList.add("drag"),t.move=!1,setTimeout(o,300)},touchstart(s){t.ele.classList.add("drag"),t.move=!1,setTimeout(o,300)},mousemove:t.mouse,click(s){t.preventClick&&t.move&&(s.preventDefault(),s.stopPropagation()),t.preventClick=!1,t.move=!1}};t.ele.classList.toggle("draggable",t.opt.draggable===!0),t.event(t.ele,"remove",i),t.opt.draggable&&t.event(t.ele,"add",i,{passive:t.opt.passiveListeners})},n.buildDots=function(){const e=this;if(e.opt.dots){if(typeof e.opt.dots=="string"?e.dots=document.querySelector(e.opt.dots):e.dots=e.opt.dots,e.dots){e.dots.innerHTML="",e.dots.setAttribute("role","tablist"),e.dots.classList.add("glider-dots");for(let t=0;t<Math.ceil(e.slides.length/e.opt.slidesToShow);++t){const o=document.createElement("button");o.dataset.index=t,o.setAttribute("aria-label",`Page ${t+1}`),o.setAttribute("role","tab"),o.className=`glider-dot ${t?"":"glider-active"}`,e.event(o,"add",{click:e.scrollItem.bind(e,t,!0)}),e.dots.appendChild(o)}}}else e.dots&&(e.dots.innerHTML="")},n.bindArrows=function(){const e=this;e.opt.arrows?["prev","next"].forEach(t=>{let o=e.opt.arrows[t];(o=o&&(typeof o=="string"?document.querySelector(o):o))&&(o._func=o._func||e.scrollItem.bind(e,t),e.event(o,"remove",{click:o._func}),e.event(o,"add",{click:o._func}),e.arrows[t]=o)}):Object.keys(e.arrows).forEach(t=>{t=e.arrows[t],e.event(t,"remove",{click:t._func})})},n.updateControls=function(e){const t=this,o=(e&&!t.opt.scrollPropagate&&e.stopPropagation(),t.containerWidth>=t.trackWidth),i=(t.opt.rewind||(t.arrows.prev&&(t.arrows.prev.classList.toggle("disabled",t.ele.scrollLeft<=0||o),t.arrows.prev.setAttribute("aria-disabled",t.arrows.prev.classList.contains("disabled"))),t.arrows.next&&(t.arrows.next.classList.toggle("disabled",Math.ceil(t.ele.scrollLeft+t.containerWidth)>=Math.floor(t.trackWidth)||o),t.arrows.next.setAttribute("aria-disabled",t.arrows.next.classList.contains("disabled")))),t.slide=Math.round(t.ele.scrollLeft/t.itemWidth),t.page=Math.round(t.ele.scrollLeft/t.containerWidth),t.slide+Math.floor(Math.floor(t.opt.slidesToShow)/2));let s=Math.floor(t.opt.slidesToShow)%2?0:i+1;Math.floor(t.opt.slidesToShow)===1&&(s=0),t.ele.scrollLeft+t.containerWidth>=Math.floor(t.trackWidth)&&(t.page=t.dots?t.dots.children.length-1:0),[].forEach.call(t.slides,(h,r)=>{const l=h.classList;var h=l.contains("visible");const f=t.ele.scrollLeft,m=t.ele.scrollLeft+t.containerWidth;var c=t.itemWidth*r;const g=c+t.itemWidth;var c=([].forEach.call(l,u=>{/^left|right/.test(u)&&l.remove(u)}),l.toggle("glider-active",t.slide===r),i===r||s&&s===r?l.add("center"):(l.remove("center"),l.add([r<i?"left":"right",Math.abs(r-(!(r<i)&&s||i))].join("-"))),Math.ceil(c)>=Math.floor(f)&&Math.floor(g)<=Math.ceil(m));l.toggle("visible",c),c!==h&&t.emit(`slide-${c?"visible":"hidden"}`,{slide:r})}),t.dots&&[].forEach.call(t.dots.children,(d,r)=>{d.classList.toggle("glider-active",t.page===r)}),e&&t.opt.scrollLock&&(clearTimeout(t.scrollLock),t.scrollLock=setTimeout(()=>{clearTimeout(t.scrollLock),Math.abs(t.ele.scrollLeft/t.itemWidth-t.slide)>.02&&(t.mouseDown||t.trackWidth>t.containerWidth+t.ele.scrollLeft&&t.scrollItem(t.getCurrentSlide()))},t.opt.scrollLockDelay||250))},n.getCurrentSlide=function(){return this.round(this.ele.scrollLeft/this.itemWidth)},n.scrollItem=function(e,t,r){r&&r.preventDefault();let i;const s=this,d=e;var r=(++s.animate_id,s.slide),l=t===!0?(e=Math.round(e*s.containerWidth/s.itemWidth))*s.itemWidth:(typeof e=="string"&&(l=e==="prev",e=s.opt.slidesToScroll%1||s.opt.slidesToShow%1?s.getCurrentSlide():s.slide,l?e-=s.opt.slidesToScroll:e+=s.opt.slidesToScroll,s.opt.rewind&&(i=s.ele.scrollLeft,e=l&&!i?s.slides.length:!l&&i+s.containerWidth>=Math.floor(s.trackWidth)?0:e)),e=Math.max(Math.min(e,s.slides.length),0),s.slide=e,s.itemWidth*e);return s.emit("scroll-item",{prevSlide:r,slide:e}),s.scrollTo(l,s.opt.duration*Math.abs(s.ele.scrollLeft-l),()=>{s.updateControls(),s.emit("animated",{value:d,type:typeof d=="string"?"arrow":t?"dot":"slide"})}),!1},n.settingsBreakpoint=function(){const e=this,t=e._opt.responsive;if(t){t.sort((i,s)=>s.breakpoint-i.breakpoint);for(let i=0;i<t.length;++i){const s=t[i];if(a.innerWidth>=s.breakpoint)return e.breakpoint!==s.breakpoint&&(e.opt={...e._opt,...s.settings},e.breakpoint=s.breakpoint,!0)}}const o=e.breakpoint!==0;return e.opt={...e._opt},e.breakpoint=0,o},n.scrollTo=function(e,t,o){const i=this,s=new Date().getTime(),d=i.animate_id,r=function(){const l=new Date().getTime()-s;i.ele.scrollLeft=i.ele.scrollLeft+(e-i.ele.scrollLeft)*i.opt.easing(0,l,0,1,t),l<t&&d===i.animate_id?a.requestAnimationFrame(r):(i.ele.scrollLeft=e,o&&o.call(i))};a.requestAnimationFrame(r)},n.removeItem=function(e){const t=this;t.slides.length&&(t.track.removeChild(t.slides[e]),t.refresh(!0),t.emit("remove"))},n.addItem=function(e){this.track.appendChild(e),this.refresh(!0),this.emit("add")},n.handleMouse=function(e){const t=this;t.mouseDown&&(t.isDrag=!0,t.ele.scrollLeft+=(t.mouseDown-e.clientX)*(t.opt.dragVelocity||3.3),t.mouseDown=e.clientX)},n.round=function(e){const t=1/(this.opt.slidesToScroll%1||1);return Math.round(e*t)/t},n.refresh=function(e){this.init(!0,e)},n.setOption=function(e,t){const o=this;o.breakpoint&&!t?o._opt.responsive.forEach(i=>{i.breakpoint===o.breakpoint&&(i.settings={...i.settings,...e})}):o._opt={...o._opt,...e},o.breakpoint=0,o.settingsBreakpoint()},n.destroy=function(){function e(i){i.removeAttribute("style"),[].forEach.call(i.classList,s=>{/^glider/.test(s)&&i.classList.remove(s)})}const t=this,o=t.ele.cloneNode(!0);t.opt.skipTrack||(o.children[0].outerHTML=o.children[0].innerHTML),e(o),[].forEach.call(o.getElementsByTagName("*"),e),t.ele.parentNode.replaceChild(o,t.ele),t.event(a,"remove",{resize:t.resize}),t.emit("destroy")},n.emit=function(e,t){e=new a.CustomEvent(`glider-${e}`,{bubbles:!this.opt.eventPropagate,detail:t}),this.ele.dispatchEvent(e)},n.event=function(e,t,o){const i=e[`${t}EventListener`].bind(e);Object.keys(o).forEach(s=>{i(s,o[s])})},p});export default function(a,p){return new window.Glider(a,p)}
