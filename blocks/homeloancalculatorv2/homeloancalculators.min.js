import{ctaClick as w}from"../../dl.min.js";import{targetObject as F}from"../../scripts/scripts.min.js";import{currenyCommaSeperation as _}from"../../scripts/common.min.js";import"./renderhpcal.min.js";import{resetCalculator as C}from"./resetCalculator.min.js";export function homeLoanCalcFunc(i){const g=i.querySelectorAll(".onetab"),h=i.querySelectorAll(".twotab"),T=i.querySelectorAll(".input_salary_checkbox"),I=i.querySelectorAll(".input_business_checkbox");g.forEach((e,t)=>{e.addEventListener("click",()=>{E(e,!0,t)})}),h.forEach((e,t)=>{e.addEventListener("click",()=>{E(e,!1,t)})});function E(e,t,l){try{const c=e.textContent.trim(),k="",n=e.closest(".section")?.previousElementSibling.querySelector(".default-content-wrapper").querySelector("h1, h2, h3, h4, h5, h6").textContent.trim()||"";w(c,n,k,F.pageName)}catch(c){console.log(c)}const S=e.closest(".home-loan-calculator-parent"),y=e.parentElement.closest(".home-loan-calculator-parent ").nextElementSibling,d=t?T[l]:I[l],a=document.querySelector(".documents-required-brown"),o=document.querySelectorAll(".cmp-text--doc-salary"),s=document.querySelectorAll(".cmp-text--doc-business");d.checked=!0,e.style.background=t?"#fff7f4":"#eef3ff";const p=t?h[l]:g[l];p.style.background="#ffffff",y.style.background=t?"#fff7f4":"#eef3ff",S.style.background=t?"-webkit-linear-gradient(right, #fff 50%, #fff7f4 50%)":"-webkit-linear-gradient(right, #eef3ff 50%, #fff 50%)",a&&(a.style.background=t?"#fff7f4":"#eef3ff"),o&&(o.forEach(c=>{c.style.display=t?"block":"none"}),s.forEach(c=>{c.style.display=t?"none":"block"}))}const r=document.querySelectorAll(".tab-emi-calc"),u=document.querySelectorAll(".tab-eligibility-calc"),m=document.querySelectorAll(".emicalculator"),v=document.querySelectorAll(".eligibilitycalculator"),L=document.querySelector(".first-head"),b=document.querySelector(".second-head"),f=document.querySelector(".gst-third-tab");function q(e){const t=r[e].classList.contains("active");r[e].classList.add("active"),u[e].classList.remove("active"),m[e].style.display="block",v[e].style.display="none",t==!1&&C(m[e]),b&&(b.style.display="block",L.style.display="block")}function A(e){const t=u[e].classList.contains("active");u[e].classList.add("active"),r[e].classList.remove("active"),v[e].style.display="block",m[e].style.display="none",t==!1&&C(v[e]),b&&(L.style.display="block",b.style.display="block")}function N(e){const t=i.querySelectorAll(".onetab");t[e].style.display="none"}function B(e){const t=i.querySelectorAll(".onetab");t[e].style.display="block"}r[0]&&r[0].addEventListener("click",()=>{q(0),f&&f.classList.remove("active")}),r[1]&&r[1].addEventListener("click",()=>{q(1)}),f&&f.addEventListener("click",()=>{u[0].classList.remove("active"),r[0].classList.remove("active"),f.classList.add("active"),v[0].style.display="block",m[0].style.display="none"}),u[0]&&u[0].addEventListener("click",()=>{A(0),f&&f.classList.remove("active")}),u[1]&&u[1].addEventListener("click",()=>{A(1)}),i.querySelectorAll(".slider-value").forEach(e=>{const t=e.dataset.slider,l=i.querySelector(`#${t}`),{calInput:S}=l.dataset;e.value=d(l.value),l.addEventListener("input",()=>{y(),e.value=d(l.value)}),e.addEventListener("focusout",function(){let a=parseFloat(e.value.replaceAll(",",""))||0;const o=parseFloat(l.min),s=parseFloat(l.max);a<o&&(a=o),a>s&&(a=s),l.value=a,this.dataset.calInput==="roi"?e.value=parseFloat(a):e.value=d(a),y(),e.dispatchEvent(new Event("change",{bubbles:!0}))});function y(){const a=(l.value-l.min)/(l.max-l.min)*100;l.style.background=`linear-gradient(90deg, #da4d34 ${a}%, #dbd7d8 ${a}%)`}l.dispatchEvent(new Event("input"));function d(a){const o=a;return isNaN(Number(o))?0:_(o)}e.addEventListener("input",function(a){let s=e.value.replace(/[^\d.]/g,"");const p=this.dataset.calInput;let c=s;s=String(s),p==="roi"?c=c:p==="tenure"?c=s.replace(/\./g,"").replaceAll(",",""):c=d(c),e.value=c}),e.addEventListener("change",function(a){let s=e.value.replace(/[^\d.]/g,"");const p=this.dataset.calInput,c=parseFloat(l.min),k=parseFloat(l.max);s<c&&(s=c),s>k&&(s=k);let n=String(s);p==="roi"?n=n:p==="tenure"?n=n.replace(/\./g,"").replaceAll(",",""):n=d(n),e.value=n,l.value=s,y()})})}
