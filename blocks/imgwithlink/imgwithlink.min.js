import{ctaClick as x,ctaClickInteraction as y,outboundClick as L}from"../../dl.min.js";import{targetObject as h}from"../../scripts/scripts.min.js";export default function q(t){const r=S(t);if(r){if(t.innerHTML="",t.appendChild(r),document.querySelectorAll(".download-piramal-wrapper,.contact-us-download-wrapper").length>0){const e=document.querySelectorAll(".download-piramal-wrapper .image-href-desktop a, .contact-us-download-wrapper .image-href-desktop a"),i=document.querySelectorAll(".download-piramal-wrapper .image-href-desktop a, .contact-us-download-wrapper .image-href-desktop a"),o=e.length>0?e:i;o.length>0&&o[0].removeAttribute("href")}T()}}function S(t){const r=window.matchMedia("(max-width: 767px)").matches,e=document.createElement("div"),i=t.children.length,o=t.children[i-2],p=t.children[i-1];o.remove(),p.remove(),e.innerHTML=t.innerHTML.trim();const f=r?3:0,l=r?5:2,m=e.children[f]?.querySelector("picture")||e.children[0]?.querySelector("picture"),g=e.children[l]?.innerText.trim()||e.children[2]?.innerText.trim()||e.children[l]?.querySelector("a")?.getAttribute("href")||"";if(!m)return console.warn("Required elements not found in the block."),document.createElement("div");const n=e.children[l]?.querySelector("a")?e.children[l]?.querySelector("a").cloneNode():document.createElement("div");console.log(n),n.href=g||"javascript:void(0)",n.target="_blank",n.classList.add("anchor-event-link"),n.appendChild(m);const d=document.createElement("div");return d.classList.add(r?"image-href-mobile":"image-href-desktop"),d.appendChild(n),d?.addEventListener("click",u=>{try{const c=o.innerText.trim(),a=p.innerText.trim();if(t.closest(".footer")&&c&&a)L(c,a,"footer",h.pageName);else if(t.closest(".download-piramal-wrapper")&&c&&a)x(c,a,a,h.pageName);else if(t.closest(".section.career-social-cards")){const s={},w=u.target.closest("a").getAttribute("href").split("/")[2],v=/^www\.|\.com$/g,k=w.replace(v,"");s.click_text=k,s.cta_position=u.target.closest(".section").querySelector(".wrapper-creation-container .default-content-wrapper p").textContent.trim(),y(s)}}catch(c){console.warn(c)}}),d}function T(){document.querySelectorAll(".anchor-event-link")?.forEach(r=>{r.getAttribute("href")==="#"&&r.addEventListener("click",e=>e.preventDefault())})}
