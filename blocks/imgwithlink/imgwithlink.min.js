import{ctaClick as x,ctaClickInteraction as y,outboundClick as L}from"../../dl.min.js";import{targetObject as h}from"../../scripts/scripts.min.js";export default function q(t){const r=S(t);if(r){if(t.innerHTML="",t.appendChild(r),document.querySelectorAll(".download-piramal-wrapper,.contact-us-download-wrapper").length>0){const e=document.querySelectorAll(".download-piramal-wrapper .image-href-desktop a, .contact-us-download-wrapper .image-href-desktop a"),i=document.querySelectorAll(".download-piramal-wrapper .image-href-desktop a, .contact-us-download-wrapper .image-href-desktop a"),c=e.length>0?e:i;c.length>0&&c[0].removeAttribute("href")}T()}}function S(t){const r=window.matchMedia("(max-width: 767px)").matches,e=document.createElement("div"),i=t.children.length,c=t.children[i-2],p=t.children[i-1];c.remove(),p.remove(),e.innerHTML=t.innerHTML.trim();const f=r?3:0,l=r?5:2,m=e.children[f]?.querySelector("picture")||e.children[0]?.querySelector("picture"),w=e.children[l]?.innerText.trim()||e.children[2]?.innerText.trim()||e.children[l]?.querySelector("a")?.getAttribute("href")||"";if(!m)return console.warn("Required elements not found in the block."),document.createElement("div");const o=e.children[l]?.querySelector("a")?e.children[l]?.querySelector("a").cloneNode():document.createElement("a");o.href=w||"javascript:void(0)",o.target="_blank",o.classList.add("anchor-event-link"),o.appendChild(m);const d=document.createElement("div");return d.classList.add(r?"image-href-mobile":"image-href-desktop"),d.appendChild(o),d?.addEventListener("click",u=>{try{const n=c.innerText.trim(),a=p.innerText.trim();if(t.closest(".footer")&&n&&a)L(n,a,"footer",h.pageName);else if(t.closest(".download-piramal-wrapper")&&n&&a)x(n,a,a,h.pageName);else if(t.closest(".section.career-social-cards")){const s={},g=u.target.closest("a").getAttribute("href").split("/")[2],v=/^www\.|\.com$/g,k=g.replace(v,"");s.click_text=k,s.cta_position=u.target.closest(".section").querySelector(".wrapper-creation-container .default-content-wrapper p").textContent.trim(),y(s)}}catch(n){console.warn(n)}}),d}function T(){document.querySelectorAll(".anchor-event-link")?.forEach(r=>{r.getAttribute("href")==="#"&&r.addEventListener("click",e=>e.preventDefault())})}
