import{ctaClick as v,ctaClickInteraction as y,outboundClick as b}from"../../dl.min.js;import{autoLinkLangPaths as f}from"../../scripts/aem.min.js;import{targetObject as g}from"../../scripts/scripts.min.js;export default function q(t){const r=A(t);if(r){if(t.innerHTML="",t.appendChild(r),document.querySelectorAll(".download-piramal-wrapper,.contact-us-download-wrapper").length>0){const e=document.querySelectorAll(".download-piramal-wrapper .image-href-desktop a, .contact-us-download-wrapper .image-href-desktop a"),c=document.querySelectorAll(".download-piramal-wrapper .image-href-desktop a, .contact-us-download-wrapper .image-href-desktop a");f(e),f(c);const a=e.length>0?e:c;a.length>0&&a[0].removeAttribute("href")}S()}}function A(t){const r=window.matchMedia("(max-width: 767px)").matches,e=document.createElement("div"),c=t.children.length,a=t.children[c-2],u=t.children[c-1];a.remove(),u.remove(),e.innerHTML=t.innerHTML.trim();const w=r?3:0,l=r?5:2,m=e.children[w]?.querySelector("picture")||e.children[0]?.querySelector("picture"),p=e.children[l]?.innerText.trim()||e.children[2]?.innerText.trim()||e.children[l]?.querySelector("a")?.getAttribute("href")||"";if(!m)return console.warn("Required elements not found in the block."),document.createElement("div");const n=e.children[l]?.querySelector("a")?e.children[l]?.querySelector("a").cloneNode():document.createElement("a");n.setAttribute("aria-label","teaser link"),n.setAttribute("tabindex","0"),p?n.href=p:n.setAttribute("role","button"),n.target="_blank",n.classList.add("anchor-event-link"),n.appendChild(m);const s=document.createElement("div");return s.classList.add(r?"image-href-mobile":"image-href-desktop"),s.appendChild(n),s?.addEventListener("click",h=>{try{const o=a.innerText.trim(),i=u.innerText.trim();if(t.closest(".footer")&&o&&i)b(o,i,"footer",g.pageName);else if(t.closest(".download-piramal-wrapper")&&o&&i)v(o,i,i,g.pageName);else if(t.closest(".section.career-social-cards")){const d={},k=h.target.closest("a").getAttribute("href").split("/")[2],x=/^www\.|\.com$/g,L=k.replace(x,"");d.click_text=L,d.cta_position=h.target.closest(".section").querySelector(".wrapper-creation-container .default-content-wrapper p").textContent.trim(),y(d)}}catch(o){console.warn(o)}}),s}function S(){document.querySelectorAll(".anchor-event-link")?.forEach(r=>{r.getAttribute("href")==="#"&&r.addEventListener("click",e=>e.preventDefault())})}
