import{ctaClick as x,ctaClickInteraction as y,outboundClick as q}from"../../dl.min.js";import{autoLinkLangPaths as h}from"../../scripts/aem.min.js";import{targetObject as f}from"../../scripts/scripts.min.js";export default function S(t){const r=T(t);if(r){if(t.innerHTML="",t.appendChild(r),document.querySelectorAll(".download-piramal-wrapper,.contact-us-download-wrapper").length>0){const e=document.querySelectorAll(".download-piramal-wrapper .image-href-desktop a, .contact-us-download-wrapper .image-href-desktop a"),c=document.querySelectorAll(".download-piramal-wrapper .image-href-desktop a, .contact-us-download-wrapper .image-href-desktop a");h(e),h(c);const o=e.length>0?e:c;o.length>0&&o[0].removeAttribute("href")}A()}}function T(t){const r=window.matchMedia("(max-width: 767px)").matches,e=document.createElement("div"),c=t.children.length,o=t.children[c-2],p=t.children[c-1];o.remove(),p.remove(),e.innerHTML=t.innerHTML.trim();const g=r?3:0,l=r?5:2,m=e.children[g]?.querySelector("picture")||e.children[0]?.querySelector("picture"),w=e.children[l]?.innerText.trim()||e.children[2]?.innerText.trim()||e.children[l]?.querySelector("a")?.getAttribute("href")||"";if(!m)return console.warn("Required elements not found in the block."),document.createElement("div");const a=e.children[l]?.querySelector("a")?e.children[l]?.querySelector("a").cloneNode():document.createElement("a");a.href=w||"javascript:void(0)",a.target="_blank",a.classList.add("anchor-event-link"),a.appendChild(m);const s=document.createElement("div");return s.classList.add(r?"image-href-mobile":"image-href-desktop"),s.appendChild(a),s?.addEventListener("click",u=>{try{const n=o.innerText.trim(),i=p.innerText.trim();if(t.closest(".footer")&&n&&i)q(n,i,"footer",f.pageName);else if(t.closest(".download-piramal-wrapper")&&n&&i)x(n,i,i,f.pageName);else if(t.closest(".section.career-social-cards")){const d={},k=u.target.closest("a").getAttribute("href").split("/")[2],v=/^www\.|\.com$/g,L=k.replace(v,"");d.click_text=L,d.cta_position=u.target.closest(".section").querySelector(".wrapper-creation-container .default-content-wrapper p").textContent.trim(),y(d)}}catch(n){console.warn(n)}}),s}function A(){document.querySelectorAll(".anchor-event-link")?.forEach(r=>{r.getAttribute("href")==="#"&&r.addEventListener("click",e=>e.preventDefault())})}
