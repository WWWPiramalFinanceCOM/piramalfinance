import{ctaClick as L,ctaClickInteraction as y,outboundClick as q}from"../../dl.min.js";import{autoLinkLangPath as h}from"../../scripts/aem.min.js";import{targetObject as f}from"../../scripts/scripts.min.js";export default function S(t){const r=T(t);if(r){if(t.innerHTML="",t.appendChild(r),document.querySelectorAll(".download-piramal-wrapper,.contact-us-download-wrapper").length>0){const e=document.querySelectorAll(".download-piramal-wrapper .image-href-desktop a, .contact-us-download-wrapper .image-href-desktop a"),c=document.querySelectorAll(".download-piramal-wrapper .image-href-desktop a, .contact-us-download-wrapper .image-href-desktop a");h(e),h(c);const a=e.length>0?e:c;a.length>0&&a[0].removeAttribute("href")}A()}}function T(t){const r=window.matchMedia("(max-width: 767px)").matches,e=document.createElement("div"),c=t.children.length,a=t.children[c-2],p=t.children[c-1];a.remove(),p.remove(),e.innerHTML=t.innerHTML.trim();const g=r?3:0,l=r?5:2,m=e.children[g]?.querySelector("picture")||e.children[0]?.querySelector("picture"),w=e.children[l]?.innerText.trim()||e.children[2]?.innerText.trim()||e.children[l]?.querySelector("a")?.getAttribute("href")||"";if(!m)return console.warn("Required elements not found in the block."),document.createElement("div");const n=e.children[l]?.querySelector("a")?e.children[l]?.querySelector("a").cloneNode():document.createElement("div");console.log(n),n.href=w||"javascript:void(0)",n.target="_blank",n.classList.add("anchor-event-link"),n.appendChild(m);const d=document.createElement("div");return d.classList.add(r?"image-href-mobile":"image-href-desktop"),d.appendChild(n),d?.addEventListener("click",u=>{try{const o=a.innerText.trim(),i=p.innerText.trim();if(t.closest(".footer")&&o&&i)q(o,i,"footer",f.pageName);else if(t.closest(".download-piramal-wrapper")&&o&&i)L(o,i,i,f.pageName);else if(t.closest(".section.career-social-cards")){const s={},v=u.target.closest("a").getAttribute("href").split("/")[2],k=/^www\.|\.com$/g,x=v.replace(k,"");s.click_text=x,s.cta_position=u.target.closest(".section").querySelector(".wrapper-creation-container .default-content-wrapper p").textContent.trim(),y(s)}}catch(o){console.warn(o)}}),d}function A(){document.querySelectorAll(".anchor-event-link")?.forEach(r=>{r.getAttribute("href")==="#"&&r.addEventListener("click",e=>e.preventDefault())})}
