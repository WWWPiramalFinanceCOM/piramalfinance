import{ctaClick as x,ctaClickInteraction as L,outboundClick as y}from"../../dl.min.js";import{targetObject as h}from"../../scripts/scripts.min.js";export default function q(e){const r=T(e);if(r){if(e.innerHTML="",e.appendChild(r),document.querySelectorAll(".download-piramal-wrapper,.contact-us-download-wrapper").length>0){const t=document.querySelectorAll(".download-piramal-wrapper .image-href-desktop a, .contact-us-download-wrapper .image-href-desktop a"),i=document.querySelectorAll(".download-piramal-wrapper .image-href-desktop a, .contact-us-download-wrapper .image-href-desktop a"),c=t.length>0?t:i;c.length>0&&c[0].removeAttribute("href")}A()}}function T(e){const r=window.matchMedia("(max-width: 767px)").matches,t=document.createElement("div"),i=e.children.length,c=e.children[i-2],d=e.children[i-1];c.remove(),d.remove(),t.innerHTML=e.innerHTML.trim();const f=r?3:0,p=r?5:2,m=t.children[f]?.querySelector("picture")||t.children[0]?.querySelector("picture"),w=t.children[p]?.innerText.trim()||t.children[2]?.innerText.trim()||t.children[p]?.querySelector("a")?.getAttribute("href")||"";if(!m)return console.warn("Required elements not found in the block."),document.createElement("div");const o=document.createElement("a");o.href=w||"javascript:void(0)",o.target="_blank",o.classList.add("anchor-event-link"),o.appendChild(m);const l=document.createElement("div");return l.classList.add(r?"image-href-mobile":"image-href-desktop"),l.appendChild(o),l?.addEventListener("click",u=>{try{const n=c.innerText.trim(),a=d.innerText.trim();if(e.closest(".footer")&&n&&a)y(n,a,"footer",h.pageName);else if(e.closest(".download-piramal-wrapper")&&n&&a)x(n,a,a,h.pageName);else if(e.closest(".section.career-social-cards")){const s={},g=u.target.closest("a").getAttribute("href").split("/")[2],v=/^www\.|\.com$/g,k=g.replace(v,"");s.click_text=k,s.cta_position=u.target.closest(".section").querySelector(".wrapper-creation-container .default-content-wrapper p").textContent.trim(),L(s)}}catch(n){console.warn(n)}}),l}function A(){document.querySelectorAll(".anchor-event-link")?.forEach(r=>{r.getAttribute("href")==="#"&&r.addEventListener("click",t=>t.preventDefault())})}
