import{ctaClickInteraction as S}from"../../dl.js";import{createButton as m,createCarousle as q,getProps as T,targetObject as h}from"../../scripts/scripts.js";import E from"../carousel/glider.min.js";export default function C(e){const x=window.matchMedia("(min-width: 1025px)"),L=window.matchMedia("(max-width: 1024px)"),[,i,y,f,g]=T(e,{picture:!0});if(i==="carousel"&&!h.isTab){e.children[e.children.length-1].remove(),e.children[3].remove(),e.children[2].remove(),e.children[1].remove(),e.classList.add(i),e.querySelectorAll("ul").forEach(n=>{n.classList.add("carousel-inner"),n.id="carouselInner"}),e.querySelectorAll("li").forEach((n,a)=>{n.classList.add("carousel-item")});const t=m("prev",y?.outerHTML),r=m("next",f?.outerHTML);t.classList.add(i==="normal"?"dp-none":"dp-normal"),r.classList.add(i==="normal"?"dp-none":"dp-normal"),q(e,t,r)}else if(i.toLowerCase()==="glider"&&(e.children[e.children.length-1].remove(),e.children[3].remove(),e.children[2].remove(),e.children[1].remove(),e.classList.add(i),!h.isMobile&&!h.isTab)){const t=m("glider-prev",y?.outerHTML),r=m("glider-next",f?.outerHTML),n=document.createElement("div"),a=document.createElement("div");a.append(t),a.append(r);const p=e.querySelector("ul");p?.querySelectorAll("li")?.forEach(c=>{const l=c.textContent.trim();l.includes("$")&&x.matches&&(c.querySelector("a").innerText=l.split("$")[0]?.trim())}),n.append(p),n.append(a),e.append(n);const d=JSON.parse(g);d.arrows={},d.arrows.prev=t,d.arrows.next=r,new IntersectionObserver(c=>{c.forEach(l=>{l.isIntersecting&&new E(p,d)})}).observe(e)}const w=e.querySelector("p"),s=e.querySelector("strong");s.textContent.trim().includes("$")&&(s.querySelector("a").innerText=s.textContent.trim().split("$")[1]?.trim());const u=document.createElement("div");u.innerHTML=`
            <div class="text legal-mobile-text">
                <div id="text-4267ae00e4" class="cmp-text">
                    <p>${w.innerText}</p>
                    <p class="active-tab-name">${s.innerText}</p>
                </div>
            </div>`,e.insertBefore(u,e.children[0]);const o=e.children[1];o?.querySelectorAll("li")?.forEach(t=>{const r=t.textContent.trim();r.includes("$")&&L.matches&&(t.querySelector("a").innerText=r.split("$")[1]?.trim())}),o.classList.add("compony-details"),u.querySelector(".active-tab-name").addEventListener("click",t=>{o.classList.contains("model-mob-hide")?(o.classList.remove("model-mob-hide"),document.body.classList.remove("overlay-active"),document.body.style.overflow="auto"):(o.classList.add("model-mob-hide"),document.querySelector("body").classList.add("overlay-active"),document.body.style.overflow="hidden")});const v=document.createElement("div");v.classList.add("body-overlay"),document.body.appendChild(v),v.addEventListener("click",()=>{o.classList.remove("model-mob-hide"),document.body.classList.remove("overlay-active"),document.body.style.overflow="auto"}),setTimeout(()=>{e.querySelector(".tab-link ul").scroll({left:e.querySelector(".tab-link ul li strong").getBoundingClientRect().left-e.querySelector(".tab-link ul li").getBoundingClientRect().width-45,behavior:"smooth"})},100);try{e.closest(".section.company-details-wrapper")&&e.querySelector(".compony-details")&&e.querySelectorAll(".compony-details li").forEach(t=>{t.addEventListener("click",function(){const r={};r.click_text=this.textContent.trim(),S(r)})})}catch(t){console.warn(t)}}
