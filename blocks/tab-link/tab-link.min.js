import{ctaClickInteraction as S}from"../../dl.min.js";import{targetObject as h}from"../../scripts/scripts.min.js";import{createButton as l,createCarousle as q,getProps as T}from"../../scripts/common.min.js";import E from"../carousel/glider.min.js";export default function C(e){const x=window.matchMedia("(min-width: 1025px)"),L=window.matchMedia("(max-width: 1024px)"),[,o,y,f,g]=T(e,{picture:!0});if(o==="carousel"&&!h.isTab){e.children[e.children.length-1].remove(),e.children[3].remove(),e.children[2].remove(),e.children[1].remove(),e.classList.add(o),e.querySelectorAll("ul").forEach(n=>{n.classList.add("carousel-inner"),n.id="carouselInner"}),e.querySelectorAll("li").forEach(n=>{n.classList.add("carousel-item")});const t=l("prev",y?.outerHTML),r=l("next",f?.outerHTML);t.classList.add(o==="normal"?"dp-none":"dp-normal"),r.classList.add(o==="normal"?"dp-none":"dp-normal"),q(e,t,r)}else if(o.toLowerCase()==="glider"&&(e.children[e.children.length-1].remove(),e.children[3].remove(),e.children[2].remove(),e.children[1].remove(),e.classList.add(o),!h.isMobile&&!h.isTab)){const t=l("glider-prev",y?.outerHTML),r=l("glider-next",f?.outerHTML),n=document.createElement("div"),v=document.createElement("div");v.append(t),v.append(r);const p=e.querySelector("ul");p?.querySelectorAll("li")?.forEach(d=>{const c=d.textContent.trim();c.includes("$")&&x.matches&&(d.querySelector("a").innerText=c.split("$")[0]?.trim())}),n.append(p),n.append(v),e.append(n);const a=JSON.parse(g);a.arrows={},a.arrows.prev=t,a.arrows.next=r,new IntersectionObserver(d=>{d.forEach(c=>{c.isIntersecting&&new E(p,a)})}).observe(e)}const w=e.querySelector("p"),s=e.querySelector("strong");s.textContent.trim().includes("$")&&(s.querySelector("a").innerText=s.textContent.trim().split("$")[1]?.trim());const m=document.createElement("div");m.innerHTML=`
            <div class="text legal-mobile-text">
                <div id="text-4267ae00e4" class="cmp-text">
                    <p>${w.innerText}</p>
                    <p class="active-tab-name">${s.innerText}</p>
                </div>
            </div>`,e.insertBefore(m,e.children[0]);const i=e.children[1];i?.querySelectorAll("li")?.forEach(t=>{const r=t.textContent.trim();r.includes("$")&&L.matches&&(t.querySelector("a").innerText=r.split("$")[1]?.trim())}),i.classList.add("compony-details"),m.querySelector(".active-tab-name").addEventListener("click",t=>{i.classList.contains("model-mob-hide")?(i.classList.remove("model-mob-hide"),document.body.classList.remove("overlay-active"),document.body.style.overflow="auto"):(i.classList.add("model-mob-hide"),document.querySelector("body").classList.add("overlay-active"),document.body.style.overflow="hidden")});const u=document.createElement("div");u.classList.add("body-overlay"),document.body.appendChild(u),u.addEventListener("click",()=>{i.classList.remove("model-mob-hide"),document.body.classList.remove("overlay-active"),document.body.style.overflow="auto"}),document.addEventListener("load-event",()=>{e.querySelector(".tab-link ul").scroll({left:e.querySelector(".tab-link ul li strong").getBoundingClientRect().left-e.querySelector(".tab-link ul li").getBoundingClientRect().width-45,behavior:"smooth"})});try{e.closest(".section.company-details-wrapper")&&e.querySelector(".compony-details")&&e.querySelectorAll(".compony-details li").forEach(t=>{t.addEventListener("click",function(){const r={};r.click_text=this.textContent.trim(),S(r)})})}catch(t){console.warn(t)}}
