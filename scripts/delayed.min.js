import{fetchPlaceholders as s,sampleRUM as d}from"./aem.js";import g from"./events.js";d("cwv"),g();function m(){"serviceWorker"in navigator?navigator.serviceWorker.register("../scripts/serviceworker.js").then(e=>{console.log("Service Worker registered.",e)}).catch(e=>{console.log("Service Worker **not** registered",e)}):console.log("Service workers are not supported in this browser.")}function u(){const e=document.createElement("script");e.innerHTML=`// Google Tag Manager 
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-T5MTVQ9');`,document.head.prepend(e)}function p(){const e=document.createElement("noscript"),n=document.createElement("iframe");n.src="https://www.googletagmanager.com/ns.html?id=GTM-T5MTVQ9",n.height="0",n.width="0",n.style.display="none",n.style.visibility="hidden",e.appendChild(n),document.body.prepend(e)}async function v(){const e=await s(),n=document.createElement("script");n.type="text/javascript";var t=e.monenageDc,a=e.monenageAppid,c=e.monegageDebuglog,l=e.monegageSdkversion;n.innerHTML=`
  console.log('MoEngage Web SDK');
  !function(e,n,i,t,a,r,o,d){if(!"${t}"||!"${t}".match(/^dc_[0-9]+$/gm))return console.error("Data center has not been passed correctly. Please follow the SDK installation instruction carefully.");var s=e[a]=e[a]||[];if(s.invoked=0,s.initialised>0||s.invoked>0)return console.error("MoEngage Web SDK initialised multiple times. Please integrate the Web SDK only once!"),!1;e.moengage_object=a;var l={},g=function n(i){return function(){for(var n=arguments.length,t=Array(n),a=0;a<n;a++)t[a]=arguments[a];(e.moengage_q=e.moengage_q||[]).push({f:i,a:t})}},u=["track_event","add_user_attribute","add_first_name","add_last_name","add_email","add_mobile","add_user_name","add_gender","add_birthday","destroy_session","add_unique_user_id","update_unique_user_id","moe_events","call_web_push","track","location_type_attribute"],m={onsite:["getData","registerCallback"]};for(var c in u)l[u[c]]=g(u[c]);for(var v in m)for(var f in m[v])null==l[v]&&(l[v]={}),l[v][m[v][f]]=g(v+"."+m[v][f]);r=n.createElement(i),o=n.getElementsByTagName("head")[0],r.async=1,r.src=t,o.appendChild(r),e.moe=e.moe||function(){return(s.invoked=s.invoked+1,s.invoked>1)?(console.error("MoEngage Web SDK initialised multiple times. Please integrate the Web SDK only once!"),!1):(d=arguments.length<=0?void 0:arguments[0],l)},r.addEventListener("load",function(){if(d)return e[a]=e.moe(d),e[a].initialised=e[a].initialised+1||1,!0}),r.addEventListener("error",function(){return console.error("Moengage Web SDK loading failed."),!1})}(window,document,"script","https://cdn.moengage.com/release/${t}/versions/${l}/moe_webSdk.min.latest.js","Moengage");`,document.head.append(n),Moengage=moe({app_id:a,debug_logs:c});try{let o=document.getElementById("moengage-container");if(!o)return!1;let r=document.querySelector(".nav-wrapper"),i=o.clientHeight;window.addEventListener("scroll",function(h){r.style.marginTop=`${i}px`,window.scrollY>50?r.style.marginTop="0px":r.style.marginTop=`${i}px`})}catch(o){console.warn("Moengage Error :: ",o)}}async function f(){const e=await s(),n=location.href;let t;n.includes("uatmarketing.piramalfinance")||n.includes("main--piramalfinance")?t=e.adobescriptstage:(n.includes("www.piramalfinance")||n.includes("main--prodpiramalfinance"))&&(t=e.adobescriptprod);const a=document.createElement("script");a.src=t,a.async=!0,document.head.appendChild(a)}!window.location.hostname.includes("localhost")&&!window.location.hostname.includes("author")&&(m(),u(),p(),v(),f());
