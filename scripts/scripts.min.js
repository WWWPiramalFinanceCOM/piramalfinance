import{ctaClick as S}from"../dl.min.js";import{sampleRUM as h,loadHeader as C,loadFooter as x,decorateButtons as q,decorateIcons as T,decorateSections as E,decorateBlocks as L,decorateTemplateAndTheme as A,waitForLCP as M,loadBlocks as P,loadCSS as d,fetchPlaceholders as k,getMetadata as y,getExtension as u}from"./aem.min.js";import{div as i,h4 as B,form as $,select as m,option as c,input as p,textarea as I,button as H,span as z}from"./dom-helper.min.js";const j=[];export function createElement(e,t,o,n){const s=document.createElement(e);if(t){const a=typeof t=="string"?[t]:t;s.classList.add(...a)}if(o&&Object.keys(o).forEach(a=>{s.setAttribute(a,o[a])}),n){const a=r=>{r instanceof HTMLElement||r instanceof SVGElement?s.append(r):s.insertAdjacentHTML("beforeend",r)};Array.isArray(n)?n.forEach(a):a(n)}return s}const g=location.pathname.replace(".html","").split("/");export const targetObject={model:null,isMobile:window.matchMedia("(max-width: 767px)").matches,ctaPosition:"Top Menu Bar",ctaPosition:"Top Menu Bar",pageName:g[g.length-1]||"home-page",isTab:window.matchMedia("(max-width: 1024px)").matches};function N(e,t=""){e.querySelectorAll("a").forEach(n=>{const{href:s}=n;let a="";if(s.includes("/play.google.com-s/")?n.href=s.replace("play.google.com-s","play.google.com"):s.includes("/apps.apple.com-s/")?n.href=s.replace("apps.apple.com-s","apps.apple.com"):s.includes("play.google.com")?a="playstore":s.includes("apps.apple.com")&&(a="appstore"),a){n.textContent="";const r=document.createElement("img");r.src=`${window.hlx.codeBasePath}${t}/images/${a}.webp`,r.alt=n.title,r.loading="lazy",n.appendChild(r)}})}window.addEventListener("resize",()=>{targetObject.isTab=window.matchMedia("(max-width: 1024px)").matches});export async function decoratePlaceholder(e,t){try{const o=await k(t);return e.querySelectorAll("*").forEach((n,s)=>{n.firstChild instanceof Text&&Object.keys(o).forEach(a=>{const r=o[a];r&&r.trim()&&n.firstChild.textContent.trim()&&n.firstChild.textContent.includes(`{${a}}`)&&(n.innerHTML=n.firstChild.textContent.replaceAll(`{${a}}`,r))})}),e.innerHTML}catch(o){console.warn(o)}}export async function decorateAnchorTag(e){try{e.querySelectorAll("a").forEach(t=>{const{body:o}=document;te(t,o)})}catch(t){console.warn(t)}}async function v(){await d(`${window.hlx.codeBasePath}/styles/fonts${u("css")}`);try{window.location.hostname.includes("localhost")||sessionStorage.setItem("fonts-loaded","true")}catch{}}function F(e){e.addEventListener("click",async t=>{const o=t.target.closest("a");if(o&&o.href&&o.href.includes("/modals/")){t.preventDefault();const{openModal:n}=await import(`${window.hlx.codeBasePath}/blocks/modal/modal${u("js")}`);n(o.href)}})}function se(){}export async function decorateMain(e){decorateAnchorTag(e),decoratePlaceholder(e),q(e),T(e),E(e),L(e),N(e),handleReadAll(e)}async function D(e){document.documentElement.lang="en",A();const t=e.querySelector("main");t&&(decorateMain(t),await M(j),await C(e.querySelector("header")),document.body.classList.add("appear"));try{(window.innerWidth>=900||sessionStorage.getItem("fonts-loaded"))&&v()}catch{}}function _(){try{const e=document.querySelector(".press-release-cards.cards-container"),t=document.querySelector(".stay-informed #tab-panel-1-0");e&&t&&t.appendChild(e);const o=document.querySelector(".media-mention-cards.cards-container"),n=document.querySelector(".stay-informed #tab-panel-1-1");o&&n&&n.appendChild(o)}catch(e){console.warn("Error moving cards to tab panels:",e)}}async function f(e){if(!e)return;const t=e.querySelector("ul"),o=e.querySelectorAll("li");if(!t||!o.length)return;const n=window.innerWidth<=767,s=o.length;if(e.classList.add("swiper","piramal-swiper"),t.classList.add("swiper-wrapper"),o.forEach(r=>{r.classList.add("swiper-slide")}),(n||s>3)&&!e.querySelector(".swiper-button-next")&&e.insertAdjacentHTML("beforeend",`
      <div class="swiper-pagination"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    `),typeof Swiper>"u")try{await d(`${window.hlx.codeBasePath}/blocks/banner-carousel/swiper-bundle.min.css`);const{default:r}=await import(`${window.hlx.codeBasePath}/blocks/banner-carousel/swiper-bundle.min.js`);window.Swiper=r}catch(r){console.error("Error loading Swiper library:",r);return}try{const r={observer:!0,observeParents:!0,pagination:{el:e.querySelector(".swiper-pagination"),clickable:!0},navigation:{nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")},on:{init:function(){console.log("Swiper initialized successfully for cards"),this.params.enabled===!1&&this.el.classList.add("swiper-disabled")},update:function(){this.params.enabled===!1||!this.allowSlideNext?this.el.classList.add("swiper-disabled"):this.el.classList.remove("swiper-disabled")}}};n?(r.slidesPerView=1,r.spaceBetween=16,r.centeredSlides=!0,r.loop=!1,r.allowTouchMove=!0,r.simulateTouch=!0,r.touchRatio=1,r.touchAngle=45,r.grabCursor=!0,r.centerInsufficientSlides=!0):(r.slidesPerView=3,r.spaceBetween=30,r.slidesPerGroup=3,r.allowTouchMove=!0,r.simulateTouch=!0,r.touchRatio=1,r.grabCursor=!0,s>3||(r.enabled=!1),r.loop=!1);const l=new Swiper(e,r);console.log("Swiper instance created:",l)}catch(r){console.error("Error initializing Swiper:",r)}}async function R(){const e=document.querySelector(".section.stay-informed .cards.block");e&&await f(e);const t=document.querySelector("#tab-panel-1-0 .cards.block");t&&await f(t);const o=document.querySelector("#tab-panel-1-1 .cards.block");o&&await f(o);const n=document.querySelectorAll(".section.stay-informed .tab-panel .cards.block");if(n.length>0)for(const s of n)s.classList.contains("swiper")||await f(s)}function U(){try{const e=document.querySelector(".directors-wrapper.cards-container"),t=document.querySelector("#tab-panel-0-0");e&&t&&t.appendChild(e);const o=document.querySelector(".management-team.cards-container"),n=document.querySelector("#tab-panel-0-1");o&&n&&n.appendChild(o)}catch(e){console.warn("Error moving cards to tab panels:",e)}}function V(){try{O(),G()}catch(e){console.error("Error initializing Connect Us section:",e)}}function O(){try{const e=document.querySelector(".section.connect-us");if(!e)return;const t=e.querySelectorAll(".columns.block > div");if(!t||t.length<2){console.warn("Connect Us: Columns structure mismatch. Expected at least 2 columns.");return}const o=t[1];if(o.querySelector(".form-card"))return;const n=i({class:"form-card"},i({class:"form-header"},B("Send Us A Message")),$({class:"custom-form",id:"contactForm",onsubmit:s=>(s.preventDefault(),!1)},i({class:"form-group"},m({class:"form-control",name:"enquiryType",required:!0},c({value:"",disabled:!0,selected:!0},"Select Enquiry Type"),c({value:"investor"},"Investor Relations"),c({value:"general"},"General Inquiry"),c({value:"media"},"Media"))),i({class:"form-group"},m({class:"form-control",name:"country"},c({value:"",disabled:!0,selected:!0},"Select Country"),c({value:"india"},"India"),c({value:"usa"},"USA"),c({value:"uk"},"UK"))),i({class:"form-group"},m({class:"form-control",name:"state"},c({value:"",disabled:!0,selected:!0},"Select State"),c({value:"maharashtra"},"Maharashtra"),c({value:"delhi"},"Delhi"))),i({class:"form-group"},m({class:"form-control",name:"city"},c({value:"",disabled:!0,selected:!0},"Select City"),c({value:"mumbai"},"Mumbai"),c({value:"pune"},"Pune"))),i({class:"form-group"},p({type:"text",class:"form-control",name:"firstName",placeholder:"First Name",required:!0})),i({class:"form-group"},p({type:"text",class:"form-control",name:"lastName",placeholder:"Last Name",required:!0})),i({class:"form-group"},p({type:"email",class:"form-control",name:"email",placeholder:"Email ID",required:!0})),i({class:"form-group"},p({type:"tel",class:"form-control",name:"contactNumber",placeholder:"Contact Number"})),i({class:"form-group full-width"},I({class:"form-control",name:"message",placeholder:"Message",rows:"4"})),i({class:"form-group"},H({type:"button",class:"btn-submit",onclick:function(){W(this)}},"Submit ",z({class:"btn-arrow"},"\u2192")))));o.innerHTML="",o.appendChild(n)}catch(e){console.error("Error rendering contact form:",e)}}function G(){try{const e=document.querySelector(".section.connect-us");if(!e)return;const t=e.querySelectorAll(".columns.block > div");if(!t||t.length<1)return;const o=t[0],n=o.querySelector("p");if(!n)return;const a=n.innerHTML.split("<br><br>"),r={phone:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>',email:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>',map:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>'};let l='<div class="contact-info-list">';if(a[0]&&(l+=w(r.phone,a[0])),a[1]){let b=a[1].replace(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi,'<a href="mailto:$1">$1</a>');l+=w(r.email,b)}a[2]&&(l+=w(r.map,a[2])),l+="</div>",o.innerHTML=l}catch(e){console.error("Error formatting contact info:",e)}}function w(e,t){try{return`
            <div class="contact-item">
                <div class="contact-icon-box">
                    ${e}
                </div>
                <div class="contact-text">
                    ${t}
                </div>
            </div>
        `}catch(o){return console.error("Error creating contact item:",o),""}}function W(e){try{const t=e.closest("form");if(!t.checkValidity()){t.reportValidity();return}const o=new FormData(t),n=Object.fromEntries(o.entries());console.log("Form Submitted with data:",n),alert("Form submitted successfully! (Check console for data)"),t.reset()}catch(t){console.error("Error handling form submission:",t),alert("An error occurred while submitting the form. Please try again.")}}async function Z(e){F(e);const t=e.querySelector("main");await P(t),_(),R(),U(),V();const{hash:o}=window.location,n=o?e.getElementById(o.substring(1)):!1;o&&n&&n.scrollIntoView(),x(e.querySelector("footer")),d(`${window.hlx.codeBasePath}/styles/lazy-styles.css`),v(),h("lazy"),h.observe(t.querySelectorAll("div[data-block-name]")),h.observe(t.querySelectorAll("picture > img"))}function K(){window.setTimeout(()=>import("./delayed.min.js"),3e3);const e=new Event("load-event");document.dispatchEvent(e),import("./sidekick.min.js").then(({initSidekick:t})=>t())}async function J(e,t){try{const o=new Promise(s=>{d(`${window.hlx.codeBasePath}/templates/${t}/${t}${u("css")}`,s)}),n=new Promise(s=>{(async()=>{try{const a=await import(`../templates/${t}/${t}${u("js")}`);a.default&&await a.default(e)}catch(a){console.log(`failed to load module for ${t}`,a)}s()})()});await Promise.all([o,n])}catch(o){console.log(`failed to load block ${t}`,o)}}async function Q(){const e=y("template");e?await J(document,e):await X(),await Y(),await D(document),await Z(document),K()}Q();async function X(){const e=[];y("template")||e.push(`${window.hlx.codeBasePath}/styles/common/common${u("css")}`),e.forEach(async t=>{await d(t)})}async function Y(){const e=`${window.hlx.codeBasePath}/styles/reset${u("css")}`;await d(e)}export function handleReadAll(e){try{e.querySelector(".section.carousel-articles-wrapper").querySelector(".default-content-wrapper p a").addEventListener("click",ee)}catch{}}function ee(e){try{if(e.target.closest(".section.read-all-dl")){const t=e.target.textContent.trim(),o=e.target.closest(".section").querySelector(".default-content-wrapper").querySelector("h1, h2, h3, h4, h5, h6").textContent.trim();S(t,"",o,targetObject.pageName)}}catch{console.log("read all not found Analytics")}}function ce(e){return Array.from(e.classList).find(t=>t.startsWith("neeyat-button-"))?.replace("neeyat-button-","")||0}const te=(e,t)=>{e.innerHTML.includes("<sub>")&&(e.target="_blank"),e.href.includes("/modal-popup/")&&oe(e,t)},oe=(e,t)=>{const o=e.href.split("/").pop();e.dataset.modelId=o,targetObject.modelId=o,e.dataset.href=e.href,e.href="javascript:void(0)",e.addEventListener("click",n=>{n.preventDefault();const s=document.querySelectorAll(`.${o}`);targetObject.models=s,s.length&&(s.forEach(a=>{a.classList.add("dp-none"),a.remove(),t.prepend(a),a.classList.remove("dp-none"),a.classList.add("overlay");const r=a.querySelector("em");r?.innerHTML.includes(":cross-icon")&&(r.innerHTML="",r.addEventListener("click",()=>{a.classList.remove("overlay"),a.classList.add("dp-none")}))}),t.style.overflow="hidden")})};
